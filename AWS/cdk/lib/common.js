"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require('dotenv').config();
// Returns value of given environment variable, which may be read from .env file.
// If the optional flag is passed as true, then if the variable is not set then undefined is returned.
// Thus it is safe to use ! to assert a variable is not undefined if the optional flag is true or missing.
// If optional is missing or false then if the variable is missing an exception is thrown.
function getEnv(name, optional = true) {
    const val = process.env[name];
    if (!val && !optional) {
        console.error(`${name} env var not set`);
        throw new Error(`${name} env var not set`);
    }
    return val;
}
exports.default = getEnv;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY29tbW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFBO0FBRTFCLGlGQUFpRjtBQUNqRixzR0FBc0c7QUFDdEcsMEdBQTBHO0FBQzFHLDBGQUEwRjtBQUMxRixTQUF3QixNQUFNLENBQUMsSUFBWSxFQUFFLFdBQW9CLElBQUk7SUFDbkUsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM5QixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFO1FBQ25CLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLGtCQUFrQixDQUFDLENBQUM7UUFDekMsTUFBTSxJQUFJLEtBQUssQ0FBQyxHQUFHLElBQUksa0JBQWtCLENBQUMsQ0FBQztLQUM5QztJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQVBELHlCQU9DIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcblxuLy8gUmV0dXJucyB2YWx1ZSBvZiBnaXZlbiBlbnZpcm9ubWVudCB2YXJpYWJsZSwgd2hpY2ggbWF5IGJlIHJlYWQgZnJvbSAuZW52IGZpbGUuXG4vLyBJZiB0aGUgb3B0aW9uYWwgZmxhZyBpcyBwYXNzZWQgYXMgdHJ1ZSwgdGhlbiBpZiB0aGUgdmFyaWFibGUgaXMgbm90IHNldCB0aGVuIHVuZGVmaW5lZCBpcyByZXR1cm5lZC5cbi8vIFRodXMgaXQgaXMgc2FmZSB0byB1c2UgISB0byBhc3NlcnQgYSB2YXJpYWJsZSBpcyBub3QgdW5kZWZpbmVkIGlmIHRoZSBvcHRpb25hbCBmbGFnIGlzIHRydWUgb3IgbWlzc2luZy5cbi8vIElmIG9wdGlvbmFsIGlzIG1pc3Npbmcgb3IgZmFsc2UgdGhlbiBpZiB0aGUgdmFyaWFibGUgaXMgbWlzc2luZyBhbiBleGNlcHRpb24gaXMgdGhyb3duLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RW52KG5hbWU6IHN0cmluZywgb3B0aW9uYWw6IGJvb2xlYW4gPSB0cnVlKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgdmFsID0gcHJvY2Vzcy5lbnZbbmFtZV07XG4gIGlmICghdmFsICYmICFvcHRpb25hbCkge1xuICAgICAgY29uc29sZS5lcnJvcihgJHtuYW1lfSBlbnYgdmFyIG5vdCBzZXRgKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHtuYW1lfSBlbnYgdmFyIG5vdCBzZXRgKTtcbiAgfVxuICByZXR1cm4gdmFsO1xufVxuIl19